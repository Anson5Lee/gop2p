I wrote this code while I was learning Go.

In a PR xaviertorgerson updated it to work with 1.3

